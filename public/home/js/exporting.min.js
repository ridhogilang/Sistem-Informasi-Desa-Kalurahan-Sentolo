!function (t) { "object" == typeof module && module.exports ? module.exports = t.default = t : "function" == typeof define && define.amd ? define("highcharts/modules/exporting", ["highcharts"], function (e) { return t(e), t.Highcharts = e, t }) : t("undefined" != typeof Highcharts ? Highcharts : void 0) }(function (e) { function t(e, t, n, i) { e.hasOwnProperty(t) || (e[t] = i.apply(null, n)) } t(e = e ? e._modules : {}, "Extensions/FullScreen.js", [e["Core/Chart/Chart.js"], e["Core/Globals.js"], e["Core/Utilities.js"]], function (e, t, n) { var i = n.addEvent; function o(e) { this.chart = e, this.isOpen = !1, e = e.renderTo, this.browserProps || ("function" == typeof e.requestFullscreen ? this.browserProps = { fullscreenChange: "fullscreenchange", requestFullscreen: "requestFullscreen", exitFullscreen: "exitFullscreen" } : e.mozRequestFullScreen ? this.browserProps = { fullscreenChange: "mozfullscreenchange", requestFullscreen: "mozRequestFullScreen", exitFullscreen: "mozCancelFullScreen" } : e.webkitRequestFullScreen ? this.browserProps = { fullscreenChange: "webkitfullscreenchange", requestFullscreen: "webkitRequestFullScreen", exitFullscreen: "webkitExitFullscreen" } : e.msRequestFullscreen && (this.browserProps = { fullscreenChange: "MSFullscreenChange", requestFullscreen: "msRequestFullscreen", exitFullscreen: "msExitFullscreen" })) } return o.prototype.close = function () { var e = this.chart; this.isOpen && this.browserProps && e.container.ownerDocument instanceof Document && e.container.ownerDocument[this.browserProps.exitFullscreen](), this.unbindFullscreenEvent && this.unbindFullscreenEvent(), this.isOpen = !1, this.setButtonText() }, o.prototype.open = function () { var e, t = this, n = t.chart; t.browserProps && (t.unbindFullscreenEvent = i(n.container.ownerDocument, t.browserProps.fullscreenChange, function () { t.isOpen ? (t.isOpen = !1, t.close()) : (t.isOpen = !0, t.setButtonText()) }), (e = n.renderTo[t.browserProps.requestFullscreen]()) && e.catch(function () { alert("Full screen is not supported inside a frame.") }), i(n, "destroy", t.unbindFullscreenEvent)) }, o.prototype.setButtonText = function () { var e = this.chart, t = e.exportDivElements, n = e.options.exporting, i = null === (o = null == n ? void 0 : n.buttons) || void 0 === o ? void 0 : o.contextButton.menuItems, o = e.options.lang; null != n && n.menuItemDefinitions && null != o && o.exitFullscreen && o.viewFullscreen && i && t && t.length && (t[i.indexOf("viewFullscreen")].innerHTML = this.isOpen ? o.exitFullscreen : n.menuItemDefinitions.viewFullscreen.text || o.viewFullscreen) }, o.prototype.toggle = function () { this.isOpen ? this.close() : this.open() }, n = o, t.Fullscreen = n, i(e, "beforeRender", function () { this.fullscreen = new t.Fullscreen(this) }), t.Fullscreen }), t(e, "Mixins/Navigation.js", [], function () { return { initUpdate: function (e) { e.navigation || (e.navigation = { updates: [], update: function (t, n) { this.updates.forEach(function (e) { e.update.call(e.context, t, n) }) } }) }, addUpdate: function (e, t) { t.navigation || this.initUpdate(t), t.navigation.updates.push({ update: e, context: t }) } } }), t(e, "Extensions/Exporting.js", [e["Core/Chart/Chart.js"], e["Mixins/Navigation.js"], e["Core/Globals.js"], e["Core/Options.js"], e["Core/Renderer/SVG/SVGRenderer.js"], e["Core/Utilities.js"]], function (e, t, l, n, i, g) { var v = l.doc, o = l.isTouchDevice, b = l.win; n = n.defaultOptions; var m = g.addEvent, w = g.css, x = g.createElement, a = g.discardElement, y = g.extend, u = g.find, E = g.fireEvent, S = g.isObject, C = g.merge, F = g.objectEach, d = g.pick, r = g.removeEvent, c = g.uniqueKey, s = b.navigator.userAgent, p = l.Renderer.prototype.symbols, k = /Edge\/|Trident\/|MSIE /.test(s), P = /firefox/i.test(s); y(n.lang, { viewFullscreen: "View in full screen", exitFullscreen: "Exit from full screen", printChart: "Print chart", downloadPNG: "Download PNG image", downloadJPEG: "Download JPEG image", downloadPDF: "Download PDF document", downloadSVG: "Download SVG vector image", contextButtonTitle: "Chart context menu" }), n.navigation || (n.navigation = {}), C(!0, n.navigation, { buttonOptions: { theme: {}, symbolSize: 14, symbolX: 12.5, symbolY: 10.5, align: "right", buttonSpacing: 3, height: 22, verticalAlign: "top", width: 24 } }), C(!0, n.navigation, { menuStyle: { border: "1px solid #999999", background: "#ffffff", padding: "5px 0" }, menuItemStyle: { padding: "0.5em 1em", color: "#333333", background: "none", fontSize: o ? "14px" : "11px", transition: "background 250ms, color 250ms" }, menuItemHoverStyle: { background: "#335cad", color: "#ffffff" }, buttonOptions: { symbolFill: "#666666", symbolStroke: "#666666", symbolStrokeWidth: 3, theme: { padding: 5 } } }), n.exporting = { type: "image/png", url: "https://export.highcharts.com/", printMaxWidth: 780, scale: 2, buttons: { contextButton: { className: "highcharts-contextbutton", menuClassName: "highcharts-contextmenu", symbol: "menu", titleKey: "contextButtonTitle", menuItems: "viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ") } }, menuItemDefinitions: { viewFullscreen: { textKey: "viewFullscreen", onclick: function () { this.fullscreen.toggle() } }, printChart: { textKey: "printChart", onclick: function () { this.print() } }, separator: { separator: !0 }, downloadPNG: { textKey: "downloadPNG", onclick: function () { this.exportChart() } }, downloadJPEG: { textKey: "downloadJPEG", onclick: function () { this.exportChart({ type: "image/jpeg" }) } }, downloadPDF: { textKey: "downloadPDF", onclick: function () { this.exportChart({ type: "application/pdf" }) } }, downloadSVG: { textKey: "downloadSVG", onclick: function () { this.exportChart({ type: "image/svg+xml" }) } } } }, l.post = function (e, t, n) { var i = x("form", C({ method: "post", action: e, enctype: "multipart/form-data" }, n), { display: "none" }, v.body); F(t, function (e, t) { x("input", { type: "hidden", name: t, value: e }, null, i) }), i.submit(), a(i) }, l.isSafari && l.win.matchMedia("print").addListener(function (e) { l.printingChart && (e.matches ? l.printingChart.beforePrint() : l.printingChart.afterPrint()) }), y(e.prototype, { sanitizeSVG: function (e, t) { var n = e.indexOf("</svg>") + 6, i = e.substr(n); return e = e.substr(0, n), t && t.exporting && t.exporting.allowHTML && i && (i = '<foreignObject x="0" y="0" width="' + t.chart.width + '" height="' + t.chart.height + '"><body xmlns="http://www.w3.org/1999/xhtml">' + i.replace(/(<(?:img|br).*?(?=>))>/g, "$1 />") + "</body></foreignObject>", e = e.replace("</svg>", i + "</svg>")), e = e.replace(/zIndex="[^"]+"/g, "").replace(/symbolName="[^"]+"/g, "").replace(/jQuery[0-9]+="[^"]+"/g, "").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g, "url($2)").replace(/url\([^#]+#/g, "url(#").replace(/<svg /, '<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g, " xlink:href=").replace(/\n/, " ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g, '$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g, " ").replace(/&shy;/g, "­"), this.ieSanitizeSVG && (e = this.ieSanitizeSVG(e)), e }, getChartHTML: function () { return this.styledMode && this.inlineStyles(), this.container.innerHTML }, getSVG: function (n) { var t, i = C(this.options, n); i.plotOptions = C(this.userOptions.plotOptions, n && n.plotOptions), i.time = C(this.userOptions.time, n && n.time); var e = x("div", null, { position: "absolute", top: "-9999em", width: this.chartWidth + "px", height: this.chartHeight + "px" }, v.body), o = this.renderTo.style.width, r = this.renderTo.style.height, o = i.exporting.sourceWidth || i.chart.width || /px$/.test(o) && parseInt(o, 10) || (i.isGantt ? 800 : 600), r = i.exporting.sourceHeight || i.chart.height || /px$/.test(r) && parseInt(r, 10) || 400; y(i.chart, { animation: !1, renderTo: e, forExport: !0, renderer: "SVGRenderer", width: o, height: r }), i.exporting.enabled = !1, delete i.data, i.series = [], this.series.forEach(function (e) { (t = C(e.userOptions, { animation: !1, enableMouseTracking: !1, showCheckbox: !1, visible: e.visible })).isInternal || i.series.push(t) }), this.axes.forEach(function (e) { e.userOptions.internalKey || (e.userOptions.internalKey = c()) }); var s = new l.Chart(i, this.callback); return n && ["xAxis", "yAxis", "series"].forEach(function (e) { var t = {}; n[e] && (t[e] = n[e], s.update(t)) }), this.axes.forEach(function (t) { var e = u(s.axes, function (e) { return e.options.internalKey === t.userOptions.internalKey }), n = (i = t.getExtremes()).userMin, i = i.userMax; e && (void 0 !== n && n !== e.min || void 0 !== i && i !== e.max) && e.setExtremes(n, i, !0, !1) }), o = s.getChartHTML(), E(this, "getSVG", { chartCopy: s }), o = this.sanitizeSVG(o, i), i = null, s.destroy(), a(e), o }, getSVGForExport: function (e, t) { var n = this.options.exporting; return this.getSVG(C({ chart: { borderRadius: 0 } }, n.chartOptions, t, { exporting: { sourceWidth: e && e.sourceWidth || n.sourceWidth, sourceHeight: e && e.sourceHeight || n.sourceHeight } })) }, getFilename: function () { var e = this.userOptions.title && this.userOptions.title.text, t = this.options.exporting.filename; return t ? t.replace(/\//g, "-") : ("string" == typeof e && (t = e.toLowerCase().replace(/<\/?[^>]+(>|$)/g, "").replace(/[\s_]+/g, "-").replace(/[^a-z0-9\-]/g, "").replace(/^[\-]+/g, "").replace(/[\-]+/g, "-").substr(0, 24).replace(/[\-]+$/g, "")), (!t || t.length < 5) && (t = "chart"), t) }, exportChart: function (e, t) { t = this.getSVGForExport(e, t), e = C(this.options.exporting, e), l.post(e.url, { filename: e.filename ? e.filename.replace(/\//g, "-") : this.getFilename(), type: e.type, width: e.width || 0, scale: e.scale, svg: t }, e.formAttributes) }, moveContainers: function (t) { (this.fixedDiv ? [this.fixedDiv, this.scrollingContainer] : [this.container]).forEach(function (e) { t.appendChild(e) }) }, beforePrint: function () { var e = v.body, t = this.options.exporting.printMaxWidth, n = { childNodes: e.childNodes, origDisplay: [], resetParams: void 0 }; this.isPrinting = !0, this.pointer.reset(null, 0), E(this, "beforePrint"), t && this.chartWidth > t && (n.resetParams = [this.options.chart.width, void 0, !1], this.setSize(t, void 0, !1)), [].forEach.call(n.childNodes, function (e, t) { 1 === e.nodeType && (n.origDisplay[t] = e.style.display, e.style.display = "none") }), this.moveContainers(e), this.printReverseInfo = n }, afterPrint: function () { var e, n, t; this.printReverseInfo && (e = this.printReverseInfo.childNodes, n = this.printReverseInfo.origDisplay, t = this.printReverseInfo.resetParams, this.moveContainers(this.renderTo), [].forEach.call(e, function (e, t) { 1 === e.nodeType && (e.style.display = n[t] || "") }), this.isPrinting = !1, t && this.setSize.apply(this, t), delete this.printReverseInfo, delete l.printingChart, E(this, "afterPrint")) }, print: function () { var e = this; e.isPrinting || (l.printingChart = e, l.isSafari || e.beforePrint(), setTimeout(function () { b.focus(), b.print(), l.isSafari || setTimeout(function () { e.afterPrint() }, 1e3) }, 1)) }, contextMenu: function (t, e, n, i, o, r, s) { var l, a = this, u = a.options.navigation, c = a.chartWidth, p = a.chartHeight, h = "cache-" + t, d = a[h], f = Math.max(o, r); d || (a.exportContextMenu = a[h] = d = x("div", { className: t }, { position: "absolute", zIndex: 1e3, padding: f + "px", pointerEvents: "auto" }, a.fixedDiv || a.container), l = x("ul", { className: "highcharts-menu" }, { listStyle: "none", margin: 0, padding: 0 }, d), a.styledMode || w(l, y({ MozBoxShadow: "3px 3px 10px #888", WebkitBoxShadow: "3px 3px 10px #888", boxShadow: "3px 3px 10px #888" }, u.menuStyle)), d.hideMenu = function () { w(d, { display: "none" }), s && s.setState(0), a.openMenu = !1, w(a.renderTo, { overflow: "hidden" }), g.clearTimeout(d.hideTimer), E(a, "exportMenuHidden") }, a.exportEvents.push(m(d, "mouseleave", function () { d.hideTimer = b.setTimeout(d.hideMenu, 500) }), m(d, "mouseenter", function () { g.clearTimeout(d.hideTimer) }), m(v, "mouseup", function (e) { a.pointer.inClass(e.target, t) || d.hideMenu() }), m(d, "click", function () { a.openMenu && d.hideMenu() })), e.forEach(function (t) { var e; "string" == typeof t && (t = a.options.exporting.menuItemDefinitions[t]), S(t, !0) && (t.separator ? e = x("hr", null, null, l) : (e = x("li", { className: "highcharts-menu-item", onclick: function (e) { e && e.stopPropagation(), d.hideMenu(), t.onclick && t.onclick.apply(a, arguments) }, innerHTML: t.text || a.options.lang[t.textKey] }, null, l), a.styledMode || (e.onmouseover = function () { w(this, u.menuItemHoverStyle) }, e.onmouseout = function () { w(this, u.menuItemStyle) }, w(e, y({ cursor: "pointer" }, u.menuItemStyle)))), a.exportDivElements.push(e)) }), a.exportDivElements.push(l, d), a.exportMenuWidth = d.offsetWidth, a.exportMenuHeight = d.offsetHeight), e = { display: "block" }, n + a.exportMenuWidth > c ? e.right = c - n - o - f + "px" : e.left = n - f + "px", i + r + a.exportMenuHeight > p && "top" !== s.alignOptions.verticalAlign ? e.bottom = p - i - f + "px" : e.top = i + r - f + "px", w(d, e), w(a.renderTo, { overflow: "" }), a.openMenu = !0, E(a, "exportMenuShown") }, addButton: function (e) { var t, n, i, o, r, s, l = this, a = l.renderer, u = C(l.options.navigation.buttonOptions, e), c = u.onclick, p = u.menuItems, h = u.symbolSize || 12; l.btnCount || (l.btnCount = 0), l.exportDivElements || (l.exportDivElements = [], l.exportSVGElements = []), !1 !== u.enabled && (n = (o = (t = u.theme).states) && o.hover, o = o && o.select, l.styledMode || (t.fill = d(t.fill, "#ffffff"), t.stroke = d(t.stroke, "none")), delete t.states, c ? i = function (e) { e && e.stopPropagation(), c.call(l, e) } : p && (i = function (e) { e && e.stopPropagation(), l.contextMenu(r.menuClassName, p, r.translateX, r.translateY, r.width, r.height, r), r.setState(2) }), u.text && u.symbol ? t.paddingLeft = d(t.paddingLeft, 25) : u.text || y(t, { width: u.width, height: u.height, padding: 0 }), l.styledMode || (t["stroke-linecap"] = "round", t.fill = d(t.fill, "#ffffff"), t.stroke = d(t.stroke, "none")), (r = a.button(u.text, 0, 0, i, t, n, o).addClass(e.className).attr({ title: d(l.options.lang[u._titleKey || u.titleKey], "") })).menuClassName = e.menuClassName || "highcharts-menu-" + l.btnCount++, u.symbol && (s = a.symbol(u.symbol, u.symbolX - h / 2, u.symbolY - h / 2, h, h, { width: h, height: h }).addClass("highcharts-button-symbol").attr({ zIndex: 1 }).add(r), l.styledMode || s.attr({ stroke: u.symbolStroke, fill: u.symbolFill, "stroke-width": u.symbolStrokeWidth || 1 })), r.add(l.exportingGroup).align(y(u, { width: r.width, x: d(u.x, l.buttonOffset) }), !0, "spacingBox"), l.buttonOffset += (r.width + u.buttonSpacing) * ("right" === u.align ? -1 : 1), l.exportSVGElements.push(r, s)) }, destroyExport: function (e) { var n = e ? e.target : this; e = n.exportSVGElements; var i, t = n.exportDivElements, o = n.exportEvents; e && (e.forEach(function (e, t) { e && (e.onclick = e.ontouchstart = null, i = "cache-" + e.menuClassName, n[i] && delete n[i], n.exportSVGElements[t] = e.destroy()) }), e.length = 0), n.exportingGroup && (n.exportingGroup.destroy(), delete n.exportingGroup), t && (t.forEach(function (e, t) { g.clearTimeout(e.hideTimer), r(e, "mouseleave"), n.exportDivElements[t] = e.onmouseout = e.onmouseover = e.ontouchstart = e.onclick = null, a(e) }), t.length = 0), o && (o.forEach(function (e) { e() }), o.length = 0) } }), i.prototype.inlineToAttributes = "fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" "), i.prototype.inlineBlacklist = [/-/, /^(clipPath|cssText|d|height|width)$/, /^font$/, /[lL]ogical(Width|Height)$/, /perspective/, /TapHighlightColor/, /^transition/, /^length$/], i.prototype.unstyledElements = ["clipPath", "defs", "desc"], e.prototype.inlineStyles = function () { function p(e) { return e.replace(/([A-Z])/g, function (e, t) { return "-" + t.toLowerCase() }) } var h, d = (e = this.renderer).inlineToAttributes, f = e.inlineBlacklist, g = e.inlineWhitelist, m = e.unstyledElements, x = {}, e = v.createElement("iframe"); w(e, { width: "1px", height: "1px", visibility: "hidden" }), v.body.appendChild(e); var y = e.contentWindow.document; y.open(), y.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'), y.close(), function e(n) { function t(e, t) { if (i = o = !1, g) { for (r = g.length; r-- && !o;)o = g[r].test(t); i = !o } for ("transform" === t && "none" === e && (i = !0), r = f.length; r-- && !i;)i = f[r].test(t) || "function" == typeof e; i || u[t] === e && "svg" !== n.nodeName || x[n.nodeName][t] === e || (d && -1 === d.indexOf(t) ? s += p(t) + ":" + e + ";" : e && n.setAttribute(p(t), e)) } var i, o, r, s = ""; if (1 === n.nodeType && -1 === m.indexOf(n.nodeName)) { var l, a = b.getComputedStyle(n, null), u = "svg" === n.nodeName ? {} : b.getComputedStyle(n.parentNode, null); if (x[n.nodeName] || (h = y.getElementsByTagName("svg")[0], l = y.createElementNS(n.namespaceURI, n.nodeName), h.appendChild(l), x[n.nodeName] = C(b.getComputedStyle(l, null)), "text" === n.nodeName && delete x.text.fill, h.removeChild(l)), P || k) for (var c in a) t(a[c], c); else F(a, t); s && (a = n.getAttribute("style"), n.setAttribute("style", (a ? a + ";" : "") + s)), "svg" === n.nodeName && n.setAttribute("stroke-width", "1px"), "text" !== n.nodeName && [].forEach.call(n.children || n.childNodes, e) } }(this.container.querySelector("svg")), h.parentNode.removeChild(h) }, p.menu = function (e, t, n, i) { return [["M", e, t + 2.5], ["L", e + n, t + 2.5], ["M", e, t + i / 2 + .5], ["L", e + n, t + i / 2 + .5], ["M", e, t + i - 1.5], ["L", e + n, t + i - 1.5]] }, p.menuball = function (e, t, n, i) { return i = i / 3 - 2, [].concat(this.circle(n - i, t, i, i), this.circle(n - i, t + i + 4, i, i), this.circle(n - i, t + 2 * (i + 4), i, i)) }, e.prototype.renderExporting = function () { var t = this, e = t.options.exporting, n = e.buttons, i = t.isDirtyExporting || !t.exportSVGElements; t.buttonOffset = 0, t.isDirtyExporting && t.destroyExport(), i && !1 !== e.enabled && (t.exportEvents = [], t.exportingGroup = t.exportingGroup || t.renderer.g("exporting-group").attr({ zIndex: 3 }).add(), F(n, function (e) { t.addButton(e) }), t.isDirtyExporting = !1), m(t, "destroy", t.destroyExport) }, m(e, "init", function () { var n = this; n.exporting = { update: function (e, t) { n.isDirtyExporting = !0, C(!0, n.options.exporting, e), d(t, !0) && n.redraw() } }, t.addUpdate(function (e, t) { n.isDirtyExporting = !0, C(!0, n.options.navigation, e), d(t, !0) && n.redraw() }, n) }), e.prototype.callbacks.push(function (e) { e.renderExporting(), m(e, "redraw", e.renderExporting) }) }), t(e, "masters/modules/exporting.src.js", [], function () { }) });